{
	"info": {
		"_postman_id": "fcf833da-955f-4d0d-8e1d-e1112d7f889b",
		"name": "EcoStruxure™ Letter of Agreement - Internal API",
		"description": "\n# Overview\n\nEcoStruxure™ Letter of Agreement API simplifies the process of getting signed letters of agreement from customers, making it easier and more secure than ever before. With this API, Schneider Electric can streamline their digital offers and make the signing process more efficient. This is a huge advantage in today's fast-paced business world, where time is money and efficiency is key.\n\nThe API ensures that all agreements are legally binding and provides an added layer of security to protect sensitive information. By digitizing this process, Schneider Electric can reduce the risk of errors or lost paperwork, while also improving customer satisfaction by providing a more convenient way to sign agreements. Overall, the Letter of Agreement API is a smart investment for any business looking to streamline their operations and stay ahead in today's competitive marketplace.\n\n\n## API overview and usage\n\nThe EcoStruxure™ Letter of Agreement API is designed for internal applications within Schneider Electric. The API enables applications to impersonate customers and create letter of agreement requests. Below are the steps to use the API effectively:\n\n### Step 1: Generate an Access Token\n\nTo interact with the API on behalf of a customer, you need to generate an access token using the `/v1/oauth-impersonate/token` endpoint. This endpoint requires the following parameters:\n\n- `grant_type` (string): Set this value to `\"user_token\"`.\n- `client_id` (string): The consumer key of the API product.\n- `client_secret` (string): The consumer secret of the API product.\n- `email` (string): The email ID of the customer to be impersonated.\n\n\nMake a `POST` request to the `/v1/oauth-impersonate/token` endpoint with the required parameters using your preferred method (e.g., cURL). Here's an example cURL command:\n\n```shell\ncurl -X POST 'https://api.exchange.se.com/ecostruxure/v1/oauth-impersonate/token' \\\n-H 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'email=john.doe@yopmail.com' \\\n--data-urlencode 'grant_type=user_token' \\\n--data-urlencode 'client_aid=abcdeff' \\\n--data-urlencode 'client_secret=******'\n```\n\nThe response will include an access token, which you should store securely for subsequent API requests.\n\n### Step 2: Create a Letter of Agreement\n\nOnce you have obtained the access token, you can use it to create a letter of agreement request using the `/loa/v1/agreements` endpoint. This endpoint allows you to initiate the creation of a letter of agreement.\n\nMake a `POST` request to the `/loa/v1/agreements` endpoint with the following information in the request body:\n\n- `templateId` (string): The ID of the template to be used for the agreement.\n- `signer` (object): Details of the signatory, including their name and email.\n- `cc` (object, optional): Details of an individual to be cc'ed in the agreement exchange emails.\n- `formData` (array, optional): An array of form field name and value pairs to pre-populate the agreement.\n- `notification` (object, optional): Notification settings for agreement status changes.\n\nHere's an example request body for creating an agreement with a signer and notification settings:\n\n```json\n{\n  \"templateId\": \"1891f288-eed5-4253-8934-a1160207b6b9\",\n  \"signer\": {\n    \"name\": \"Signer Example\",\n    \"email\": \"example@example.com\"\n  },\n  \"notification\": {\n    \"isEnabled\": true,\n    \"emails\": [\n      \"example@se.com\"\n    ]\n  }\n}\n```\n\nEnsure you include the access token obtained in the previous step in the request headers as a Bearer token.\n\nThe API will respond with a status code and the created agreement object if successful.\n\n**Note:** Remember to handle any potential errors by examining the response status codes and error messages provided in the API documentation.\n\n\n# Documentation\n    \n## How to sign up\n    \nThis is an internal API product. Please contact ecostruxure.openness@se.com for access.\n\n## Authentication guide\n\nThe API is meant for Schneider Electric internal applications, application can choose one of following method to generate token and invoke API on behalf of a customer.\n\n### Schneider Electric application integrated with cIAM\n\nIf the Schneider Electric application is integrated with cIAM, application will already have access to cIAM id_token. Schneider Electric application can exchange this id_token for API access token using `Exchange cIAM id_token` operation. CURL example below. This way the token generated is associated with the cIAM identity, the consent provided by the user will be stored against the cIAM identity.\n\n```shell\ncurl -X POST 'https://api.exchange.se.com/ecostruxure/v1/oauth/token' \\\n-H 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'id_token=base64encodedidtokenfromciam' \\\n--data-urlencode 'grant_type=id_token' \\\n--data-urlencode 'client_id=abcdeff' \\\n--data-urlencode 'client_secret=******'\n```\n\n### Schneider Electric application not integrated with cIAM\n\nIf the Schneider Electric application is not integrated with cIAM, application can generate an access token using `OAuth User Impersonation` operation. CURL example below. This way the token generated is associated with the cIAM identity, the consent provided by the user will be stored against the cIAM identity.\n\n```shell\ncurl -X POST 'https://api.exchange.se.com/ecostruxure/v1/oauth-impersonate/token' \\\n-H 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'email=john.doe@yopmail.com' \\\n--data-urlencode 'grant_type=user_token' \\\n--data-urlencode 'client_id=abcdeff' \\\n--data-urlencode 'client_secret=******'\n```\n\n<!-- ReDoc-Inject: <security-definitions> -->\n\n\n## Support\n\nContact the SE Exchange support team at exchange.support@se.com and include:\n* Endpoint URL\n* Request/Response\n* Any additional information like Screenshots, Postman collections.\n\n## Release Notes\n\n|version|Notes|\n|-------|-----|\n|1.3.0|Ability to delete an agreement|\n|1.2.0|Ability to override email subject and message while creating an agreement|\n|1.1.0|Ability to create LOA based on previous agreement|\n|1.0.0|Initial version|\n\nContact Support:\n Name: Schneider Electric\n Email: exchange.support@se.com",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",

	},
}
